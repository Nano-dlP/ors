‚úÖ 1. Bot√≥n que abre el modal
Ponelo junto al bot√≥n de acciones del registro:


<!-- Bot√≥n para abrir el modal -->
<button type="button" class="btn btn-danger btn-circle" data-bs-toggle="modal" data-bs-target="#confirmarDesactivacionModal">
  <i class="fas fa-power-off"></i>
</button>


‚úÖ 2. Modal de confirmaci√≥n
Coloc√° esto al final del template o dentro del bloque de contenido (solo una vez):


<!-- Modal -->
<div class="modal fade" id="confirmarDesactivacionModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="desactivacionLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header bg-warning text-dark">
        <h5 class="modal-title" id="desactivacionLabel">Confirmar Desactivaci√≥n</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>

      <div class="modal-body">
        ¬øEst√°s seguro que quer√©s desactivar este registro?
        Esta acci√≥n puede revertirse m√°s adelante.
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>

        <form id="formDesactivar" method="post" action="{% url 'persona:desactivar' persona.id %}">
          {% csrf_token %}
          <button type="submit" class="btn btn-danger">Desactivar</button>
        </form>
      </div>

    </div>
  </div>
</div>


üîÑ 3. Si vas a usarlo para varios registros din√°micamente
Cambiale el action del formulario por JavaScript antes de mostrar el modal:


<!-- El bot√≥n en la tabla -->
<button type="button" class="btn btn-danger btn-circle" data-id="{{ persona.id }}" onclick="mostrarModal(this)">
  <i class="fas fa-power-off"></i>
</button>
html
Copiar
Editar
<!-- Script para modificar el action din√°micamente -->
<script>
  function mostrarModal(btn) {
    const id = btn.getAttribute('data-id');
    const form = document.getElementById('formDesactivar');
    form.action = `/persona/${id}/desactivar/`; // o con {% url %} usando JavaScript en Django
    const modal = new bootstrap.Modal(document.getElementById('confirmarDesactivacionModal'));
    modal.show();
  }
</script>


VERSION2
‚úÖ 1. HTML del bot√≥n en la tabla
Pod√©s usar un mismo bot√≥n para desactivar o eliminar:


<!-- Bot√≥n para desactivar -->
<button type="button"
        class="btn btn-warning btn-circle"
        data-id="{{ persona.id }}"
        data-action="desactivar"
        data-entity="la persona {{ persona.apellido }}, {{ persona.nombre }}"
        onclick="mostrarModal(this)">
  <i class="fas fa-power-off"></i>
</button>

<!-- Bot√≥n para eliminar -->
<button type="button"
        class="btn btn-danger btn-circle"
        data-id="{{ persona.id }}"
        data-action="eliminar"
        data-entity="la persona {{ persona.apellido }}, {{ persona.nombre }}"
        onclick="mostrarModal(this)">
  <i class="fas fa-trash-alt"></i>
</button>

‚úÖ 2. Modal HTML (√∫nico, reutilizable)
Coloc√° este modal al final de tu template:

<!-- Modal de confirmaci√≥n reutilizable -->
<div class="modal fade" id="modalConfirmacion" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modalConfirmacionLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title" id="modalConfirmacionLabel">Confirmar acci√≥n</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>

      <div class="modal-body" id="modalMensaje">
        <!-- Se completa din√°micamente -->
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>

        <form id="formAccion" method="post">
          {% csrf_token %}
          <button type="submit" class="btn btn-danger" id="btnConfirmarAccion">Confirmar</button>
        </form>
      </div>

    </div>
  </div>
</div>


‚úÖ 3. Script para manejar el modal din√°micamente
Agregalo al final del template (antes del </body>):

<script>
  function mostrarModal(btn) {
    const id = btn.getAttribute('data-id');
    const action = btn.getAttribute('data-action');
    const entity = btn.getAttribute('data-entity');

    // Actualiza mensaje
    const mensaje = `¬øEst√°s seguro de que deseas <strong>${action}</strong> a ${entity}?`;
    document.getElementById('modalMensaje').innerHTML = mensaje;

    // Actualiza el formulario
    const form = document.getElementById('formAccion');
    form.action = `/persona/${id}/${action}/`;  // Ajust√° esta ruta a tu sistema de URLs

    // Cambia color del bot√≥n seg√∫n acci√≥n
    const btnConfirmar = document.getElementById('btnConfirmarAccion');
    btnConfirmar.classList.remove('btn-danger', 'btn-warning');
    btnConfirmar.classList.add(action === 'eliminar' ? 'btn-danger' : 'btn-warning');
    btnConfirmar.textContent = action.charAt(0).toUpperCase() + action.slice(1);

    // Mostrar modal
    const modal = new bootstrap.Modal(document.getElementById('modalConfirmacion'));
    modal.show();
  }
</script>
üìù URL de ejemplo esperada para Django
Asegurate de tener las rutas Django para que funcionen con:


path('persona/<int:pk>/eliminar/', views.eliminar_persona, name='persona_eliminar'),
path('persona/<int:pk>/desactivar/', views.desactivar_persona, name='persona_desactivar'),
